{"mappings":"A,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,E,S,E,S,E,S,E,S,E,S,I,E,E,SEIA,MAAM,EAAY,SAAS,aAAa,CAAC,eACnC,EAAkB,SAAS,aAAa,CAAC,qBAC3B,SAAS,cAAc,CAAC,eACzB,SAAS,cAAc,CAAC,QACxB,SAAS,cAAc,CAAC,QACpB,SAAS,cAAc,CAAC,YACxB,SAAS,cAAc,CAAC,YAK/C,MAAM,EAAsB,KAC1B,IAAM,EAAc,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,WAAa,EAAE,CAC7D,EAAgB,EAAY,GAAG,CAAC,AAAA,GAAQ,EAAK,GAAG,EACtD,OAAO,CACT,EAEM,EAAa,AAAA,IACjB,IAAM,EAAW,SAAS,aAAa,CAAC,OACxC,EAAS,SAAS,CAAC,GAAG,CAAC,QACvB,IAAM,EAAW,SAAS,aAAa,CAAC,UACxC,EAAS,SAAS,CAAC,GAAG,CAAC,mBACvB,EAAS,WAAW,CAAC,GAErB,EAAS,gBAAgB,CAAC,QAAS,KACjC,IAAM,EAAW,EAAS,OAAO,CAAC,SAClC,GAAI,EAAU,CACZ,IAAM,EAAS,EAAS,GAAG,CACrB,EAAc,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,UAC9C,EAAe,EAAY,MAAM,CAAC,AAAA,GAAQ,EAAK,GAAG,GAAK,GAC7D,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAC7C,EAAS,MAAM,GACa,IAAxB,EAAa,MAAM,EACrB,EAAU,SAAS,CAAC,MAAM,CAAC,SAE/B,CACF,GAEA,IAAM,EAAU,SAAS,aAAa,CAAC,OACvC,EAAQ,SAAS,CAAC,GAAG,CAAC,eACtB,EAAQ,GAAG,CAAG,EAAS,UAAU,CACjC,EAAS,WAAW,CAAC,GACrB,IAAM,EAAS,CAAC;4BACU,EAAE,EAAS,KAAK,CAAC;8BACf,EAAE,EAAS,SAAS,CAAC;0BACzB,EAAE,EAAS,WAAW,CAAC;;8BAEnB,EAAE,EAAS,MAAM,CAAC;;sCAEV,EAAE,EAAS,kBAAkB,CAAC;;;;EAIlE,CAAC,CAEK,EAAyB,SAAS,aAAa,CAAC,OACtD,EAAuB,SAAS,CAAC,GAAG,CAAC,iBACrC,EAAuB,SAAS,CAAG,EACnC,EAAS,WAAW,CAAC,GACrB,EAAgB,WAAW,CAAC,EAC9B,EACM,EAAY,UAChB,IAAM,EAAgB,IACtB,GAAI,AAAyB,IAAzB,EAAc,MAAM,CAAQ,CAC9B,EAAU,SAAS,CAAC,MAAM,CAAC,UAC3B,MACF,CACA,EAAU,SAAS,CAAC,GAAG,CAAC,UACxB,EAAc,OAAO,CAAC,MAAM,IAC1B,IAAM,EAAc,MAAM,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,EAAc,GACxC,EAAW,EACb,EACF,EACA,IAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBA8FuB,E,E,S,E,Q,oE","sources":["<anon>","src/shopping-list.js","src/js/shopping-list.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nparcelRequire(\"kM5jX\");\nparcelRequire(\"haS5e\");\nparcelRequire(\"fQwj1\");\nparcelRequire(\"a7nVE\");\nparcelRequire(\"1fSMk\");\n\nvar $lXnOV = parcelRequire(\"lXnOV\");\n\"use strict\";\nconst $75d8a6bcc5c56d80$var$emptyList = document.querySelector(\".empty-list\");\nconst $75d8a6bcc5c56d80$var$shoppingGallery = document.querySelector(\".shopping-gallery\");\nconst $75d8a6bcc5c56d80$var$pageNumbers = document.getElementById(\"pageNumbers\");\nconst $75d8a6bcc5c56d80$var$prevButton = document.getElementById(\"prev\");\nconst $75d8a6bcc5c56d80$var$nextButton = document.getElementById(\"next\");\nconst $75d8a6bcc5c56d80$var$prevPageButton = document.getElementById(\"prevPage\");\nconst $75d8a6bcc5c56d80$var$nextPageButton = document.getElementById(\"nextPage\");\nconst $75d8a6bcc5c56d80$var$itemsPerPage = 4;\nlet $75d8a6bcc5c56d80$var$currentPage = 1;\nconst $75d8a6bcc5c56d80$var$getFromLocalStorage = ()=>{\n    const storedBooks = JSON.parse(localStorage.getItem(\"books\")) || [];\n    const storedBooksId = storedBooks.map((book)=>book._id);\n    return storedBooksId;\n};\nconst $75d8a6bcc5c56d80$var$renderBook = (bookData)=>{\n    const shopItem = document.createElement(\"div\");\n    shopItem.classList.add(\"shop\");\n    const btnTrash = document.createElement(\"button\");\n    btnTrash.classList.add(\"shop__btn-trash\");\n    shopItem.appendChild(btnTrash);\n    btnTrash.addEventListener(\"click\", ()=>{\n        const shopItem = btnTrash.closest(\".shop\");\n        if (shopItem) {\n            const bookId = bookData._id;\n            const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n            const updatedBooks = storedBooks.filter((book)=>book._id !== bookId);\n            localStorage.setItem(\"books\", JSON.stringify(updatedBooks));\n            shopItem.remove();\n            if (updatedBooks.length === 0) $75d8a6bcc5c56d80$var$emptyList.classList.remove(\"hidden\");\n        }\n    });\n    const shopImg = document.createElement(\"img\");\n    shopImg.classList.add(\"shop__photo\");\n    shopImg.src = bookData.book_image;\n    shopItem.appendChild(shopImg);\n    const markup = `\n    <h2 class=\"shop__title\">${bookData.title}</h2>\n    <p class=\"shop__category\">${bookData.list_name}</p>\n    <p class=\"shop__text\">${bookData.description}</p>\n  <div class=\"author-inline\">\n      <p class=\"shop__author\">${bookData.author}</p>\n      <div class=\"shop__amazon-book\">\n        <a class=\"shop__amazon\" href=\"${bookData.amazon_product_url}\" target=\"_blank\"></a>\n        <div class=\"shop__book-icon\"></div>\n      </div>\n    </div>\n  `;\n    const shopDescriptionDetails = document.createElement(\"div\");\n    shopDescriptionDetails.classList.add(\"shop__content\");\n    shopDescriptionDetails.innerHTML = markup;\n    shopItem.appendChild(shopDescriptionDetails);\n    $75d8a6bcc5c56d80$var$shoppingGallery.appendChild(shopItem);\n};\nconst $75d8a6bcc5c56d80$var$loadBooks = async ()=>{\n    const storedBooksId = $75d8a6bcc5c56d80$var$getFromLocalStorage();\n    if (storedBooksId.length === 0) {\n        $75d8a6bcc5c56d80$var$emptyList.classList.remove(\"hidden\");\n        return;\n    }\n    $75d8a6bcc5c56d80$var$emptyList.classList.add(\"hidden\");\n    storedBooksId.forEach(async (id)=>{\n        const bookDetails = await (0, $lXnOV.fetchBookById)(id);\n        $75d8a6bcc5c56d80$var$renderBook(bookDetails);\n    });\n};\n$75d8a6bcc5c56d80$var$loadBooks(); // Funkcja do sprawdzania dostępności książek w liście\n /*function checkIfBooksExist() {\n  const storedBooksId = getFromLocalStorage();\n  return storedBooksId.length > 0;\n}\n\n// Funkcja do generowania numerów stron\nfunction setupPagination(data, itemsPerPage) {\n  pageNumbers.innerHTML = '';\n  const pageCount = Math.ceil(data.length / itemsPerPage);\n\n  for (let i = 1; i <= pageCount; i++) {\n    const button = paginationButton(i);\n    pageNumbers.appendChild(button);\n  }\n}\n\n// Funkcja do tworzenia przycisków numerów stron\nfunction paginationButton(page) {\n  const button = document.createElement('button');\n  button.innerText = page;\n  button.addEventListener('click', () => {\n    currentPage = page;\n    displayPage(currentPage);\n  });\n  return button;\n}\n\n// Funkcja do wyświetlania danej strony\nfunction displayPage(page) {\n  const storedBooksId = getFromLocalStorage();\n  const start = (page - 1) * itemsPerPage;\n  const end = start + itemsPerPage;\n  const booksToDisplay = storedBooksId.slice(start, end);\n\n  shoppingGallery.innerHTML = '';\n  booksToDisplay.forEach(async id => {\n    const bookDetails = await fetchBookById(id);\n    renderBook(bookDetails);\n  });\n\n  const currentButton = document.querySelector(`#pageNumbers button.active`);\n  if (currentButton) {\n    currentButton.classList.remove('active');\n  }\n  document.querySelector(`#pageNumbers button:nth-child(${page})`).classList.add('active');\n}\n\n// Inicjalizacja paginacji\nfunction initializePagination() {\n  if (checkIfBooksExist()) {\n    const storedBooksId = getFromLocalStorage();\n    setupPagination(storedBooksId, itemsPerPage);\n    displayPage(currentPage);\n    pageNumbers.style.display = 'block'; // Pokaż paginację\n  } else {\n    pageNumbers.style.display = 'none'; // Ukryj paginację\n  }\n}\n\n// Przewijanie do poprzedniej strony\nprevButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayPage(currentPage);\n  }\n});\n\nprevPageButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayPage(currentPage);\n  }\n});\n\n// Przewijanie do następnej strony\nnextButton.addEventListener('click', () => {\n  const storedBooksId = getFromLocalStorage();\n  const pageCount = Math.ceil(storedBooksId.length / itemsPerPage);\n  if (currentPage < pageCount) {\n    currentPage++;\n    displayPage(currentPage);\n  }\n});\n\nnextPageButton.addEventListener('click', () => {\n  const storedBooksId = getFromLocalStorage();\n  const pageCount = Math.ceil(storedBooksId.length / itemsPerPage);\n  if (currentPage < pageCount) {\n    currentPage++;\n    displayPage(currentPage);\n  }\n});\n\n// Inicjalizacja paginacji przy załadowaniu strony\ninitializePagination();*/ \n\n\nparcelRequire(\"2DTLi\");\nparcelRequire(\"eNCUi\");\n\n\n//# sourceMappingURL=shopping-list.ac0d057c.js.map\n","import './sass/main.scss';\nimport './js/mobile-menu';\nimport './js/theme-changer';\nimport './js/navigation-highlight';\nimport './js/support.js';\nimport './js/modal-registration';\nimport './js/shopping-list';\nimport './js/firebase';\nimport './js/pop-up';\n","'use strict';\n\nimport { fetchBookById } from './api';\n\nconst emptyList = document.querySelector('.empty-list');\nconst shoppingGallery = document.querySelector('.shopping-gallery');\nconst pageNumbers = document.getElementById('pageNumbers');\nconst prevButton = document.getElementById('prev');\nconst nextButton = document.getElementById('next');\nconst prevPageButton = document.getElementById('prevPage');\nconst nextPageButton = document.getElementById('nextPage');\n\nconst itemsPerPage = 4;\nlet currentPage = 1;\n\nconst getFromLocalStorage = () => {\n  const storedBooks = JSON.parse(localStorage.getItem('books')) || [];\n  const storedBooksId = storedBooks.map(book => book._id);\n  return storedBooksId;\n};\n\nconst renderBook = bookData => {\n  const shopItem = document.createElement('div');\n  shopItem.classList.add('shop');\n  const btnTrash = document.createElement('button');\n  btnTrash.classList.add('shop__btn-trash');\n  shopItem.appendChild(btnTrash);\n\n  btnTrash.addEventListener('click', () => {\n    const shopItem = btnTrash.closest('.shop');\n    if (shopItem) {\n      const bookId = bookData._id;\n      const storedBooks = JSON.parse(localStorage.getItem('books'));\n      const updatedBooks = storedBooks.filter(book => book._id !== bookId);\n      localStorage.setItem('books', JSON.stringify(updatedBooks));\n      shopItem.remove();\n      if (updatedBooks.length === 0) {\n        emptyList.classList.remove('hidden');\n      }\n    }\n  });\n\n  const shopImg = document.createElement('img');\n  shopImg.classList.add('shop__photo');\n  shopImg.src = bookData.book_image;\n  shopItem.appendChild(shopImg);\n  const markup = `\n    <h2 class=\"shop__title\">${bookData.title}</h2>\n    <p class=\"shop__category\">${bookData.list_name}</p>\n    <p class=\"shop__text\">${bookData.description}</p>\n  <div class=\"author-inline\">\n      <p class=\"shop__author\">${bookData.author}</p>\n      <div class=\"shop__amazon-book\">\n        <a class=\"shop__amazon\" href=\"${bookData.amazon_product_url}\" target=\"_blank\"></a>\n        <div class=\"shop__book-icon\"></div>\n      </div>\n    </div>\n  `;\n\n  const shopDescriptionDetails = document.createElement('div');\n  shopDescriptionDetails.classList.add('shop__content');\n  shopDescriptionDetails.innerHTML = markup;\n  shopItem.appendChild(shopDescriptionDetails);\n  shoppingGallery.appendChild(shopItem);\n};\nconst loadBooks = async () => {\n  const storedBooksId = getFromLocalStorage();\n  if (storedBooksId.length === 0) {\n    emptyList.classList.remove('hidden');\n    return;\n  }\n  emptyList.classList.add('hidden');\n  storedBooksId.forEach(async id => {\n    const bookDetails = await fetchBookById(id);\n    renderBook(bookDetails);\n  });\n};\nloadBooks();\n\n// Funkcja do sprawdzania dostępności książek w liście\n/*function checkIfBooksExist() {\n  const storedBooksId = getFromLocalStorage();\n  return storedBooksId.length > 0;\n}\n\n// Funkcja do generowania numerów stron\nfunction setupPagination(data, itemsPerPage) {\n  pageNumbers.innerHTML = '';\n  const pageCount = Math.ceil(data.length / itemsPerPage);\n\n  for (let i = 1; i <= pageCount; i++) {\n    const button = paginationButton(i);\n    pageNumbers.appendChild(button);\n  }\n}\n\n// Funkcja do tworzenia przycisków numerów stron\nfunction paginationButton(page) {\n  const button = document.createElement('button');\n  button.innerText = page;\n  button.addEventListener('click', () => {\n    currentPage = page;\n    displayPage(currentPage);\n  });\n  return button;\n}\n\n// Funkcja do wyświetlania danej strony\nfunction displayPage(page) {\n  const storedBooksId = getFromLocalStorage();\n  const start = (page - 1) * itemsPerPage;\n  const end = start + itemsPerPage;\n  const booksToDisplay = storedBooksId.slice(start, end);\n\n  shoppingGallery.innerHTML = '';\n  booksToDisplay.forEach(async id => {\n    const bookDetails = await fetchBookById(id);\n    renderBook(bookDetails);\n  });\n\n  const currentButton = document.querySelector(`#pageNumbers button.active`);\n  if (currentButton) {\n    currentButton.classList.remove('active');\n  }\n  document.querySelector(`#pageNumbers button:nth-child(${page})`).classList.add('active');\n}\n\n// Inicjalizacja paginacji\nfunction initializePagination() {\n  if (checkIfBooksExist()) {\n    const storedBooksId = getFromLocalStorage();\n    setupPagination(storedBooksId, itemsPerPage);\n    displayPage(currentPage);\n    pageNumbers.style.display = 'block'; // Pokaż paginację\n  } else {\n    pageNumbers.style.display = 'none'; // Ukryj paginację\n  }\n}\n\n// Przewijanie do poprzedniej strony\nprevButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayPage(currentPage);\n  }\n});\n\nprevPageButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayPage(currentPage);\n  }\n});\n\n// Przewijanie do następnej strony\nnextButton.addEventListener('click', () => {\n  const storedBooksId = getFromLocalStorage();\n  const pageCount = Math.ceil(storedBooksId.length / itemsPerPage);\n  if (currentPage < pageCount) {\n    currentPage++;\n    displayPage(currentPage);\n  }\n});\n\nnextPageButton.addEventListener('click', () => {\n  const storedBooksId = getFromLocalStorage();\n  const pageCount = Math.ceil(storedBooksId.length / itemsPerPage);\n  if (currentPage < pageCount) {\n    currentPage++;\n    displayPage(currentPage);\n  }\n});\n\n// Inicjalizacja paginacji przy załadowaniu strony\ninitializePagination();*/\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$lXnOV","$75d8a6bcc5c56d80$var$emptyList","document","querySelector","$75d8a6bcc5c56d80$var$shoppingGallery","getElementById","$75d8a6bcc5c56d80$var$getFromLocalStorage","storedBooks","JSON","parse","localStorage","getItem","storedBooksId","map","book","_id","$75d8a6bcc5c56d80$var$renderBook","bookData","shopItem","createElement","classList","add","btnTrash","appendChild","addEventListener","closest","bookId","updatedBooks","filter","setItem","stringify","remove","length","shopImg","src","book_image","markup","title","list_name","description","author","amazon_product_url","shopDescriptionDetails","innerHTML","$75d8a6bcc5c56d80$var$loadBooks","forEach","bookDetails","fetchBookById"],"version":3,"file":"shopping-list.ac0d057c.js.map"}